(function(){"use strict";var t={4073:function(t,s,e){var a=e(6369),r=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("header",[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-md-9 col-sm-9 col-lg-9 col-xl-9 col-9"},[t.showCourses?s("div",{staticStyle:{float:"right","margin-top":"1.5em"}},[s("div",{staticClass:"container"},[t.canRemoveFromCart?s("button",{staticClass:"btn btn-primary mb-4 mt-6",staticStyle:{"font-size":"1.15rem"},on:{click:t.cycle}},[s("i",{staticClass:"fa-solid fa-cart-plus"}),s("span",{staticClass:"badge rounded-pill badge-notification bg-danger"},[t._v(t._s(t.cartItemCount))])]):s("button",{staticClass:"btn btn-primary mb-4 mt-6",staticStyle:{"font-size":"1.15rem"},attrs:{disabled:"disabled"}},[s("i",{staticClass:"fa-solid fa-cart-plus"}),s("span",{staticClass:"badge rounded-pill badge-notification bg-danger"},[t._v(t._s(t.cartItemCount))])])])]):s("div",{staticStyle:{display:"flex","flex-direction":"row-reverse"}},[s("button",{staticClass:"btn btn-primary mb-4 mt-6",staticStyle:{"font-size":"1.15rem"},on:{click:t.cycle}},[s("i",{staticClass:"bx bx-left-arrow-alt"}),t._v(" Go back ")])])])])])]),s("main",[s(t.currentView,{tag:"component",attrs:{"cart-items":t.cart,"product-items":t.courses},on:{"add-cart":t.HandleaddToCart,"remove-cart":t.removeCartItem,"order-submitted":t.handleOrderSubmitted}})],1)])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-md-3 col-sm-3 col-lg-3 col-xl-3 col-3"},[s("div",{staticClass:"logo"},[s("a",{attrs:{href:"index.html",title:"logo"}},[s("img",{attrs:{src:e(3698),width:"80",height:"80",alt:"",srcset:""}})])]),s("div",{staticClass:"mob-menu"},[s("span",[s("i",{staticClass:"fa fa-bars"})])])])}],o=(e(7658),function(){var t=this,s=t._self._c;return s("section",[s("section",[s("div",{staticClass:"row",staticStyle:{width:"100%"}},[s("div",{staticClass:"col-md-7 col-sm-12 col-12"},[s("h1",{staticClass:"p-5 text",domProps:{textContent:t._s(t.sitename)}})]),s("div",{staticClass:"col-md-4 col-sm-12 col-12"},[s("div",{attrs:{id:"search_parent"}},[t.search?s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{type:"text",id:"search1",placeholder:t.searchTerm},domProps:{value:t.searchInput},on:{input:function(s){s.target.composing||(t.searchInput=s.target.value)}}}):t._e(),s("button",{attrs:{for:"search1"}},[s("i",{staticClass:"fa fa-search",on:{click:t.search}})])])])])]),s("section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6 col-lg-6 col-md-6 col-6"},[s("div",{attrs:{id:"sort"}},[s("div",{staticClass:"form-check"},t._l(t.sort_dict,(function(e,a){return s("div",{key:e.id},[e.checked?s("input",{attrs:{type:"radio",name:"sort",value:"key",checked:""},on:{click:function(s){return t.sort(a)}}}):s("input",{attrs:{type:"radio",name:"sort",value:"key"},on:{click:function(s){return t.sort(a)}}}),s("label",{attrs:{for:"sort"}},[t._v(t._s(a))])])})),0)])]),s("div",{staticClass:"col-sm-6 col-lg-6 col-md-6 col-6"},[s("div",{attrs:{id:"order"}},[s("div",{staticClass:"form-check"},t._l(t.order_dict,(function(e,a){return s("div",{key:e.id},[e.checked?s("input",{attrs:{type:"radio",name:"order",value:"key",checked:""},on:{click:function(s){return t.order(a)}}}):s("input",{attrs:{type:"radio",name:"order",value:"key"},on:{click:function(s){return t.order(a)}}}),s("label",{attrs:{for:"order"}},[t._v(t._s(a))])])})),0)])])])]),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"row wrapper"},t._l(t.sortedItems,(function(e){return s("div",{key:e.id,staticClass:"col-lg-4 col-md-6 col-sm-6 col-12 box"},[s("div",{staticClass:"card my-3 product"},[s("div",{staticClass:"card-image"},[s("div",{staticClass:"wrap"},[s("img",{staticClass:"img-fluid",attrs:{src:e.image,alt:"image 1"}})])]),s("div",{staticClass:"card-content bg-light text-dark"},[s("span",{staticClass:"card-title"},[t._v(t._s(e.subject))]),s("hr"),s("span",[t._v(t._s(e.location))]),s("span",{staticStyle:{float:"right"}},[t._v(t._s(e.price))]),s("br"),s("br"),s("span",{staticClass:"pt-5"},[t._v("No of Spaces "+t._s(e.noOfSpaces))]),s("br"),s("br"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 col-lg-9 col-md-9 col-sm-9"},[e.noOfSpaces>0?s("button",{staticClass:"show btn btn-custom float-right",attrs:{type:"button",id:"show","data-target":"show1","aria-label":"Left Align"},on:{click:function(s){return t.add_To_Cart(e)}}},[s("i",{staticClass:"fa-solid fa-cart-plus"}),t._v(" Add to cart")]):s("button",{staticClass:"show btn btn-custom float-right",attrs:{disabled:"disabled",type:"button",id:"show","data-target":"show1","aria-label":"Left Align"}},[s("i",{staticClass:"fa-solid fa-cart-plus"}),t._v("Empty")])])])]),t._m(0,!0)])])})),0)])])])])}),c=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-reveal show1"},[s("span",{staticClass:"card-title"},[t._v("Card Title")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),s("p",[t._v("Here is some more information about this product that is only revealed once clicked on.")])])}],n={name:"LessonComponent",props:{productItems:{type:Array}},emits:["add-cart"],created(){this.loadProducts()},methods:{showCheckout(){this.showCourses=!this.showCourses},add_To_Cart(t){const s=`${t.subject[0]}`+t.id+`${t.location[0]}`+Math.ceil(1e6*Math.random());let e={id:s,course:t};this.$emit("add-cart",JSON.stringify(e))},search_func(t){let s=this.sort_value.toLowerCase();"all"!=s&""!=t.trim()&&("price"!=s?this.sortedItems=this.productItems.filter((e=>e[s].toLowerCase().includes(t.toLowerCase()))):null!=t.match(/^[0-9]+$/)&&(this.sortedItems=this.productItems.filter((e=>(""+e[s]).includes(t)))),this.order_sort(this.sort_value)),""==t.trim()&&(this.loadProducts(),this.order_sort(this.sort_value))},order(t){this.order_value=t,this.order_sort(this.sort_value)},sort(t){this.sort_value=t,this.order_sort(t)},order_sort(t){if(t=t.toLowerCase(),"all"!=t){this.searchTerm=t;const s="Ascending"==this.order_value;this.sortedItems.sort(((e,a)=>e[t]>a[t]?s?1:-1:a[t]>e[t]?s?-1:1:0))}else this.searchTerm="Search",this.loadProducts()},loadProducts(){this.sortedItems=[],this.productItems.forEach((t=>{this.sortedItems.push(t)}))}},data(){return{sitename:"After School Activities Store",cart:[],order_value:"Ascending",order_dict:{Ascending:{id:1,checked:!0},Descending:{id:2,checked:!1}},sort_value:"All",sort_dict:{All:{id:1,checked:!0},Subject:{id:2,checked:!1},Location:{id:3,checked:!1},Price:{id:4,checked:!1}},searchInput:"",searchTerm:"Please choose criteria eg. subject, location, price.",sortedItems:[],name:"",phone:""}},computed:{cartItemCount(){return this.cart.length||"Empty"},canRemoveFromCart(){return this.cart.length>0},search(){return this.search_func(this.searchInput),!0}}},l=n,d=e(1001),u=(0,d.Z)(l,o,c,!1,null,null,null),m=u.exports,h=function(){var t=this,s=t._self._c;return s("section",[s("div",{staticClass:"container mt-5"},[s("div",{staticClass:"checkout"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9"},[s("h2",[t._v("Order Summary")]),s("div",{staticClass:"row"},t._l(t.getCartItems,(function(e){return s("div",{key:e.id,staticClass:"col-md-4 col-sm-6 col-12"},[s("div",{staticClass:"card my-3"},[s("div",{staticClass:"card-image"},[s("div",{staticClass:"wrap"},[s("img",{staticClass:"img-fluid",attrs:{src:e.course.image,alt:"image 1"}})])]),s("div",{staticClass:"card-content bg-light text-dark"},[s("span",{staticClass:"card-title"},[t._v(t._s(e.course.subject))]),s("hr"),s("span",[t._v(t._s(e.course.location))]),s("span",{staticStyle:{float:"right"}},[t._v("Price "+t._s(e.course.price))]),s("br"),s("br"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 col-lg-9 col-md-9 col-sm-9"},[s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.removeCartItem(e)}}},[s("small",[t._v("Remove")])])])])])])])})),0)]),s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"order-md-2 mb-4"},[t._m(0),s("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[s("ul",{staticClass:"list-group mb-3"},[s("label",{attrs:{for:"firstName"}},[t._v("Full name")]),s("li",{staticClass:"list-group-item d-flex justify-content-between lh-condensed"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_data.name,expression:"user_data.name"}],staticClass:"form-control",attrs:{type:"text",id:"firstName",placeholder:"",value:"",required:""},domProps:{value:t.user_data.name},on:{input:function(s){s.target.composing||t.$set(t.user_data,"name",s.target.value)}}})]),s("br"),s("label",{attrs:{for:"lastName"}},[t._v("Phone Number")]),s("li",{staticClass:"list-group-item d-flex justify-content-between lh-condensed"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_data.phone,expression:"user_data.phone"}],staticClass:"form-control",attrs:{type:"number",id:"lastName",placeholder:"",value:"",required:""},domProps:{value:t.user_data.phone},on:{input:function(s){s.target.composing||t.$set(t.user_data,"phone",s.target.value)}}})])]),s("hr",{staticClass:"mb-4"}),t.canCheckout?s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"},on:{click:function(s){return t.checkout()}}},[t._v("Continue to checkout")]):t._e()])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 order-md-2 mb-4"},[t._m(1),s("ul",{staticClass:"list-group mb-3"},[s("li",{staticClass:"list-group-item d-flex justify-content-between lh-condensed"},[t._m(2),s("span",{staticClass:"text-muted"},[t._v(t._s(t.user_data.name))])]),s("li",{staticClass:"list-group-item d-flex justify-content-between lh-condensed"},[t._m(3),s("span",{staticClass:"text-muted"},[t._v(t._s(t.user_data.phone))])])])])])])])])},p=[function(){var t=this,s=t._self._c;return s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[s("span",{staticClass:"text-muted"},[t._v("Billing Address")]),s("span",{staticClass:"badge badge-secondary badge-pill"},[t._v("3")])])},function(){var t=this,s=t._self._c;return s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[s("span",{staticClass:"text-muted"},[t._v("Your cart")]),s("span",{staticClass:"badge badge-secondary badge-pill"},[t._v("3")])])},function(){var t=this,s=t._self._c;return s("div",[s("h6",{staticClass:"my-0"},[t._v("Name")])])},function(){var t=this,s=t._self._c;return s("div",[s("h6",{staticClass:"my-0"},[t._v("Number")])])}],v={name:"CartComponent",props:{cartItems:{type:Array}},emits:["remove-cart","order-submitted"],computed:{getCartItems(){return this.cartItems},cartItemCount:function(){return this.cart.length},canRemoveFromCart(){return this.cartItems.length>0},canCheckout(){const t=this.user_data;return t.name.match(/^[A-Za-z\s]+$/)&&t.phone.match(/^[0-9]+$/)}},methods:{removeCartItem(t){this.$emit("remove-cart",JSON.stringify(t))},checkout(){alert("Order submited"),this.$emit("order-submitted")}},data(){return{user_data:{name:"",phone:""}}}},f=v,C=(0,d.Z)(f,h,p,!1,null,null,null),_=C.exports,b={name:"App",components:{LessonComponent:m,CheckoutComponent:_},created(){this.loadProducts()},data(){return{courses:[],cart:[],showCourses:!0,currentView:m,currentViewStr:"Checkout"}},methods:{loadProducts(){const t=3e3;fetch(`http://localhost:${t}/collection/courses`).then((t=>{t.json().then((t=>{this.courses=t.map((t=>(t["image"]=`/${t["image"]}`,t)))}))}))},HandleaddToCart(t){t=JSON.parse(t);for(let s=0;s<this.courses.length;s++){const e=this.courses[s];t["course"]._id==e._id&&e.noOfSpaces--}this.cart.push(t)},removeCartItem(t){t=JSON.parse(t);const s=[];for(let e=0;e<this.cart.length;e++){const a=this.cart[e];t["id"]!=a["id"]&&s.push(a)}this.cart=[],s.forEach((t=>{this.cart.push(t)}));for(let e=0;e<this.courses.length;e++){const s=this.courses[e];t["course"]._id==s._id&&s.noOfSpaces++}},handleOrderSubmitted(){this.cart=[],this.cycle()},cycle(){this.currentView["name"]==m["name"]?(this.currentView=_,this.currentViewStr="Go Back",this.showCourses=!1):(this.currentView=m,this.currentViewStr="Checkout",this.showCourses=!0)}},computed:{cartItemCount(){return this.cart.length||"Empty"},canRemoveFromCart(){return this.cart.length>0}}},g=b,y=(0,d.Z)(g,r,i,!1,null,null,null),w=y.exports;a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(w)}).$mount("#app")},3698:function(t,s,e){t.exports=e.p+"img/kid.9a9a0f2b.png"}},s={};function e(a){var r=s[a];if(void 0!==r)return r.exports;var i=s[a]={exports:{}};return t[a].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(s,a,r,i){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],r=t[d][1],i=t[d][2];for(var c=!0,n=0;n<a.length;n++)(!1&i||o>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[n])}))?a.splice(n--,1):(c=!1,i<o&&(o=i));if(c){t.splice(d--,1);var l=r();void 0!==l&&(s=l)}}return s}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,r,i]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.p="/coursework3/"}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var r,i,o=a[0],c=a[1],n=a[2],l=0;if(o.some((function(s){return 0!==t[s]}))){for(r in c)e.o(c,r)&&(e.m[r]=c[r]);if(n)var d=n(e)}for(s&&s(a);l<o.length;l++)i=o[l],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(d)},a=self["webpackChunkcoursework3"]=self["webpackChunkcoursework3"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(4073)}));a=e.O(a)})();
//# sourceMappingURL=app.81b7ad8e.js.map